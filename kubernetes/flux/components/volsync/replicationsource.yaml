---
apiVersion: volsync.backube/v1alpha1
kind: ReplicationSource
metadata:
  name: "${APP}"
spec:
  sourcePVC: "${APP_PVC}"
  trigger:
    schedule: "0 */6 * * *"
  restic:
    pruneIntervalDays: 7
    repository: "${APP}-volsync-secret"
    retain:
      hourly: 6
      daily: 7
      weekly: 4
      monthly: 3
    copyMethod: Direct
    moverSecurityContext:
      runAsUser: ${MOVER_UID:=568}
      runAsGroup: ${MOVER_GID:=568}
      fsGroup: ${MOVER_FSGROUP:=568}
    cacheStorageClassName: openebs-hostpath
    cacheCapacity: 2Gi
