---
storage:
  type: sqlite
  path: /data/data.db

ui:
  title: David Home Status
  header: David Home Cluster Status

connectivity:
  checker:
    target: 1.1.1.1:53
    interval: 60s

endpoints:
  # ===================
  # MEDIA
  # ===================
  - name: Plex
    group: Media
    url: "https://plex.davidhome.ro/identity"
    interval: 60s
    conditions:
      - "[STATUS] == 200"

  - name: Radarr
    group: Media
    url: "http://radarr.media.svc.cluster.local:80/ping"
    interval: 60s
    conditions:
      - "[STATUS] == 200"

  - name: Sonarr
    group: Media
    url: "http://sonarr.media.svc.cluster.local:80/ping"
    interval: 60s
    conditions:
      - "[STATUS] == 200"

  - name: Bazarr
    group: Media
    url: "http://bazarr.media.svc.cluster.local:6767/health"
    interval: 60s
    conditions:
      - "[STATUS] == 200"

  - name: Tautulli
    group: Media
    url: "http://tautulli.media.svc.cluster.local:80/status"
    interval: 60s
    conditions:
      - "[STATUS] == 200"

  - name: Agregarr
    group: Media
    url: "http://agregarr.media.svc.cluster.local:7171/api/v1/status"
    interval: 60s
    conditions:
      - "[STATUS] == 200"

  - name: MinimServer
    group: Media
    url: "http://minimserver.default.svc.cluster.local:9790"
    interval: 60s
    conditions:
      - "[STATUS] == any(200, 302, 401)"

  # ===================
  # DOWNLOADS
  # ===================
  - name: qBittorrent
    group: Downloads
    url: "http://qbittorrent.downloads.svc.cluster.local:80"
    interval: 60s
    conditions:
      - "[STATUS] == 200"

  - name: SABnzbd
    group: Downloads
    url: "http://sabnzbd.downloads.svc.cluster.local:80/api?mode=version"
    interval: 60s
    conditions:
      - "[STATUS] == 200"

  - name: Prowlarr
    group: Downloads
    url: "http://prowlarr.downloads.svc.cluster.local:80/ping"
    interval: 60s
    conditions:
      - "[STATUS] == 200"

  - name: Autobrr
    group: Downloads
    url: "http://autobrr.downloads.svc.cluster.local:80/api/healthz/liveness"
    interval: 60s
    conditions:
      - "[STATUS] == 200"

  - name: FlareSolverr
    group: Downloads
    url: "http://flaresolverr.downloads.svc.cluster.local:8191/health"
    interval: 60s
    conditions:
      - "[STATUS] == 200"

  # ===================
  # AI
  # ===================
  - name: Open WebUI
    group: AI
    url: "https://chat.davidhome.ro"
    interval: 60s
    conditions:
      - "[STATUS] == 200"

  - name: Ollama
    group: AI
    url: "http://ollama.ai.svc.cluster.local:11434"
    interval: 60s
    conditions:
      - "[STATUS] == 200"

  - name: SearXNG
    group: AI
    url: "http://searxng.ai.svc.cluster.local:8080"
    interval: 60s
    conditions:
      - "[STATUS] == 200"

  # ===================
  # INFRASTRUCTURE
  # ===================
  - name: Portainer
    group: Infrastructure
    url: "http://portainer.infastructure.svc.cluster.local:9000"
    interval: 60s
    conditions:
      - "[STATUS] == 200"

  - name: Scrypted
    group: Infrastructure
    url: "https://scrypted.infastructure.svc.cluster.local:10443"
    client:
      insecure: true
    interval: 60s
    conditions:
      - "[STATUS] == any(200, 302)"

  - name: go2rtc
    group: Infrastructure
    url: "http://go2rtc.infastructure.svc.cluster.local:1984"
    interval: 60s
    conditions:
      - "[STATUS] == 200"

  - name: TrueNAS
    group: Infrastructure
    url: "https://truenas.davidhome.ro"
    client:
      insecure: true
    interval: 60s
    conditions:
      - "[STATUS] == any(200, 302)"

  - name: Home Assistant
    group: Infrastructure
    url: "https://hass.davidhome.ro"
    interval: 60s
    conditions:
      - "[STATUS] == 200"

  # ===================
  # HARDWARE
  # ===================
  - name: Proxmox
    group: Hardware
    url: "https://nucleus.davidhome.ro"
    client:
      insecure: true
    interval: 60s
    conditions:
      - "[STATUS] == any(200, 302, 301)"

  - name: iDRAC Nucleus
    group: Hardware
    url: "https://nucleus.idrac.davidhome.ro"
    client:
      insecure: true
    interval: 60s
    conditions:
      - "[STATUS] == any(200, 302, 301)"

  - name: iDRAC Electron
    group: Hardware
    url: "https://electron.idrac.davidhome.ro"
    client:
      insecure: true
    interval: 60s
    conditions:
      - "[STATUS] == any(200, 302, 301)"

  - name: iDRAC Proton
    group: Hardware
    url: "https://proton.idrac.davidhome.ro"
    client:
      insecure: true
    interval: 60s
    conditions:
      - "[STATUS] == any(200, 302, 301)"

  - name: iDRAC Neutron
    group: Hardware
    url: "https://neutron.idrac.davidhome.ro"
    client:
      insecure: true
    interval: 60s
    conditions:
      - "[STATUS] == any(200, 302, 301)"

  # ===================
  # MONITORING
  # ===================
  - name: Grafana
    group: Monitoring
    url: "https://monitoring.davidapps.dev"
    interval: 60s
    conditions:
      - "[STATUS] == 200"

  - name: Plausible
    group: Monitoring
    url: "https://plausible.davidapps.dev"
    interval: 60s
    conditions:
      - "[STATUS] == 200"

  - name: Gatus
    group: Monitoring
    url: "http://gatus.default.svc.cluster.local:8080/health"
    interval: 60s
    conditions:
      - "[STATUS] == 200"

  # ===================
  # SERVICES
  # ===================
  - name: Shlink
    group: Services
    url: "https://dave.tips/rest/health"
    interval: 60s
    conditions:
      - "[STATUS] == 200"

  - name: Shlink Web
    group: Services
    url: "http://shlink-web.default.svc.cluster.local:8080"
    interval: 60s
    conditions:
      - "[STATUS] == 200"

  - name: Personal Dashboard
    group: Services
    url: "https://dash.davidhome.ro"
    interval: 60s
    conditions:
      - "[STATUS] == 200"

  - name: Pelican Panel
    group: Services
    url: "https://panel.davidapps.dev"
    interval: 60s
    conditions:
      - "[STATUS] == any(200, 302)"

  - name: Echo Server
    group: Services
    url: "https://echo-server.davidhome.ro"
    interval: 60s
    conditions:
      - "[STATUS] == 200"

  - name: NAS Download
    group: Services
    url: "https://dl.davidhome.ro"
    interval: 60s
    conditions:
      - "[STATUS] == any(200, 403)"

  - name: Homepage
    group: Services
    url: "http://homepage.default.svc.cluster.local:3000/api/healthcheck"
    interval: 60s
    conditions:
      - "[STATUS] == 200"

  # ===================
  # GAMING
  # ===================
  - name: Pelican Wings
    group: Gaming
    url: "https://pelican.davidhome.ro"
    interval: 60s
    conditions:
      - "[STATUS] == any(200, 401, 403)"

  # ===================
  # DATABASES
  # ===================
  - name: Dragonfly
    group: Databases
    url: "tcp://dragonfly.databases.svc.cluster.local:6379"
    interval: 60s
    conditions:
      - "[CONNECTED] == true"

  - name: PostgreSQL
    group: Databases
    url: "tcp://postgres-cluster-rw.databases.svc.cluster.local:5432"
    interval: 60s
    conditions:
      - "[CONNECTED] == true"

  - name: Plausible ClickHouse
    group: Databases
    url: "http://plausible-clickhouse.observability.svc.cluster.local:8123/ping"
    interval: 60s
    conditions:
      - "[STATUS] == 200"

  - name: Zerocut ClickHouse
    group: Databases
    url: "http://clickhouse.databases.svc.cluster.local:8123/ping"
    interval: 60s
    conditions:
      - "[STATUS] == 200"

  # ===================
  # CLUSTER
  # ===================
  - name: Kubernetes API
    group: Cluster
    url: "https://kubernetes.default.svc.cluster.local:443"
    client:
      insecure: true
    interval: 60s
    conditions:
      - "[STATUS] == any(200, 401, 403)"
